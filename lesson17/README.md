# å‰è¨€

## ä»€ä¹ˆæ˜¯AIã€AI Agentï¼Ÿ

ç›¸ä¿¡å¤§å®¶å¯¹AIä¸é™Œç”Ÿäº†ã€‚AI å°±æ˜¯äººå·¥æ™ºèƒ½ï¼ˆArtificial Intelligenceï¼‰çš„ç®€ç§°ï¼Œå®ƒå…¶å®å°±æ˜¯è®©è®¡ç®—æœºæˆ–è€…æœºå™¨å…·å¤‡åƒäººä¸€æ ·çš„æ™ºèƒ½ã€‚

æ¯”å¦‚è¯´ï¼Œå¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰çš„è¯­éŸ³åŠ©æ‰‹ï¼Œåƒè‹¹æœçš„ Siriã€å°ç±³çš„å°çˆ±åŒå­¦ã€‚å½“ä½ å¯¹å®ƒä»¬è¯´è¯ï¼Œé—®â€œä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·â€ï¼Œå®ƒä»¬èƒ½ç†è§£ä½ è¯´çš„è¯ï¼Œç„¶åé€šè¿‡ç½‘ç»œå»è·å–å¤©æ°”ä¿¡æ¯ï¼Œå†æŠŠç»“æœå‘Šè¯‰ä½ ã€‚è¿™èƒŒåå°±æ˜¯äººå·¥æ™ºèƒ½æŠ€æœ¯åœ¨èµ·ä½œç”¨ï¼Œæœºå™¨é€šè¿‡ä¸€ç³»åˆ—çš„ç®—æ³•å’Œæ¨¡å‹ï¼Œç†è§£äººç±»çš„è¯­è¨€ï¼Œå¤„ç†ä¿¡æ¯ï¼Œæœ€åç»™å‡ºåˆé€‚çš„å›åº”ã€‚
å†ä¸¾ä¸ªä¾‹å­ï¼Œå›¾åƒè¯†åˆ«æŠ€æœ¯ã€‚å¾ˆå¤šå®‰é˜²ç³»ç»Ÿé‡Œä¼šç”¨åˆ°å›¾åƒè¯†åˆ«ï¼Œé€šè¿‡æ‘„åƒå¤´æ‹æ‘„çš„ç”»é¢ï¼Œæœºå™¨èƒ½å¤Ÿè¯†åˆ«å‡ºç”»é¢é‡Œçš„äººæ˜¯è°ï¼Œæ˜¯ä¸æ˜¯å¯ç–‘äººå‘˜ã€‚è¿™ä¹Ÿæ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ç§åº”ç”¨ï¼Œæœºå™¨é€šè¿‡å­¦ä¹ å¤§é‡çš„äººè„¸å›¾åƒæ•°æ®ï¼ŒæŒæ¡ä¸åŒäººè„¸çš„ç‰¹å¾ï¼Œç„¶ååœ¨å®é™…åœºæ™¯ä¸­è¿›è¡Œè¯†åˆ«ã€‚
ç®€å•æ¥è¯´ï¼ŒAI å°±æ˜¯è®©æœºå™¨æ¨¡æ‹Ÿäººç±»çš„æ™ºèƒ½è¡Œä¸ºï¼Œè®©å®ƒä»¬èƒ½æ„ŸçŸ¥ç¯å¢ƒã€ç†è§£ä¿¡æ¯ã€åšå‡ºå†³ç­–å’Œé‡‡å–è¡ŒåŠ¨ã€‚

é‚£ä»€ä¹ˆæ˜¯ AI Agent å‘¢ï¼ŸAI Agent å¯ä»¥ç†è§£æˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„ AI ç¨‹åºæˆ–è€…å®ä½“ã€‚å®ƒå°±åƒæ˜¯ä¸€ä¸ªæœ‰è‡ªå·±â€œä¸ªæ€§â€å’Œâ€œä»»åŠ¡â€çš„å°æœºå™¨äººï¼Œèƒ½å¤Ÿåœ¨ç‰¹å®šçš„ç¯å¢ƒé‡Œè‡ªä¸»åœ°å®Œæˆä¸€äº›ä»»åŠ¡ã€‚
ç»™ä½ ä¸¾ä¸ªå®é™…åœºæ™¯çš„ä¾‹å­ï¼Œå‡å¦‚ä½ æœ‰ä¸€ä¸ªæ™ºèƒ½å®¶å±…ç³»ç»Ÿï¼Œé‡Œé¢æœ‰ä¸€ä¸ª AI Agent è´Ÿè´£ç®¡ç†å®¶é‡Œçš„ç”µå™¨ã€‚è¿™ä¸ª AI Agent å°±å¯ä»¥æ ¹æ®ä½ è®¾å®šçš„è§„åˆ™ï¼Œè‡ªä¸»åœ°æ§åˆ¶ç”µå™¨çš„å¼€å…³ã€‚æ¯”å¦‚è¯´ï¼Œåˆ°äº†æ™šä¸Šç¡è§‰çš„æ—¶é—´ï¼Œå®ƒä¼šè‡ªåŠ¨å…³é—­å®¢å…çš„ç¯å’Œç”µè§†ï¼›æ—©ä¸Šèµ·åºŠçš„æ—¶å€™ï¼Œå®ƒä¼šè‡ªåŠ¨æ‰“å¼€çª—å¸˜å’Œå’–å•¡æœºã€‚è¿™ä¸ª AI Agent ä¼šæ„ŸçŸ¥å®¶é‡Œçš„æ—¶é—´ã€ç¯å¢ƒç­‰ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¿™äº›ä¿¡æ¯åšå‡ºç›¸åº”çš„å†³ç­–ï¼Œæ‰§è¡Œç›¸åº”çš„åŠ¨ä½œã€‚
å†æ¯”å¦‚ï¼Œåœ¨ä¸€äº›ç”µå•†å¹³å°ä¸Šï¼Œä¼šæœ‰å®¢æœ AI Agentã€‚å½“ä½ å‘å®¢æœå’¨è¯¢å•†å“ä¿¡æ¯çš„æ—¶å€™ï¼Œè¿™ä¸ª AI Agent å°±ä¼šæ ¹æ®ä½ æå‡ºçš„é—®é¢˜ï¼Œä»æ•°æ®åº“é‡ŒæŸ¥æ‰¾ç›¸å…³çš„ç­”æ¡ˆï¼Œç„¶åç»™ä½ å›å¤ã€‚å®ƒèƒ½å’Œä½ è¿›è¡Œäº¤æµï¼Œè§£ç­”ä½ çš„ç–‘é—®ï¼Œå°±åƒæ˜¯ä¸€ä¸ªçœŸæ­£çš„å®¢æœäººå‘˜ä¸€æ ·ã€‚

AI å’Œ AI Agent æœ‰ä»€ä¹ˆè”ç³»å’ŒåŒºåˆ«å‘¢ï¼Ÿ

AI æ˜¯ä¸€ä¸ªæ›´å®½æ³›çš„æ¦‚å¿µï¼Œå®ƒåŒ…å«äº†å„ç§è®©æœºå™¨å…·å¤‡æ™ºèƒ½çš„æŠ€æœ¯å’Œæ–¹æ³•ã€‚è€Œ AI Agent æ˜¯åŸºäº AI æŠ€æœ¯æ„å»ºçš„ä¸€ä¸ªå…·ä½“çš„ç¨‹åºæˆ–è€…å®ä½“ï¼Œå®ƒæœ‰è‡ªå·±æ˜ç¡®çš„ä»»åŠ¡å’Œç›®æ ‡ï¼Œèƒ½å¤Ÿåœ¨ç‰¹å®šçš„ç¯å¢ƒé‡Œè‡ªä¸»åœ°è¡ŒåŠ¨ã€‚å¯ä»¥è¯´ï¼ŒAI Agent æ˜¯ AI æŠ€æœ¯çš„ä¸€ç§å…·ä½“åº”ç”¨å½¢å¼ã€‚
> æ‰€ä»¥å¤§å®¶ä¸è¦æœ‰è¯¯åŒºã€‚è®¤ä¸ºAIéƒ½æ˜¯é‚£äº›æç®—æ³•çš„åšå£«ã€ç ”ç©¶ç”Ÿæ‰èƒ½æçš„ä¸œè¥¿ã€‚å’±ä»¬è‡­å¼€å‘çš„åšåšAI Agentåº”ç”¨è¿˜æ˜¯æ²¡é—®é¢˜çš„/doge

---
## ä¸ºå•¥è¦å­¦è¿™ä¸ªï¼Ÿ

> æœ‰å¤§å››å­¦é•¿å·²ç»all in AI äº†ğŸ¶ğŸ¶

å°±ä¸šç«äº‰åŠ›æå‡

å¦‚ä»Šçš„äº’è”ç½‘è¡Œä¸šï¼Œå¯¹å¤åˆå‹äººæ‰çš„éœ€æ±‚è¶Šæ¥è¶Šå¤§ã€‚ä¼ä¸šéƒ½å¸Œæœ›æ‹›è˜åˆ°çš„å‘˜å·¥èƒ½æŒæ¡å¤šç§æŠ€èƒ½ï¼Œèƒ½åº”å¯¹ä¸åŒç±»å‹çš„ä¸šåŠ¡éœ€æ±‚ã€‚ä½ æœ¬èº«æŒæ¡äº†Golangåç«¯å¼€å‘æŠ€æœ¯ï¼Œè¿™å·²ç»æ˜¯å¾ˆå‰å®³çš„ä¸€é¡¹æŠ€èƒ½äº†ï¼Œä½†å¦‚æœå†åŠ ä¸ŠAI Agentå¼€å‘èƒ½åŠ›ï¼Œé‚£ä½ çš„ç«äº‰åŠ›ä¼šå¤§å¹…æå‡ã€‚
æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨æ±‚èŒçš„æ—¶å€™ï¼Œé¢å¯¹ä¸€ä¸ªéœ€è¦ç»“åˆåç«¯å¼€å‘å’ŒAIæŠ€æœ¯çš„é¡¹ç›®ï¼Œå…¶ä»–åªæ‡‚ä¼ ç»Ÿåç«¯å¼€å‘çš„åŒå­¦å¯èƒ½å°±æ²¡åŠæ³•èƒœä»»ï¼Œè€Œä½ å› ä¸ºæŒæ¡äº†AI Agentå¼€å‘ï¼Œå°±æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œèƒ½ä»ä¼—å¤šæ±‚èŒè€…ä¸­è„±é¢–è€Œå‡ºï¼Œè·å¾—æ›´å¥½çš„å·¥ä½œæœºä¼šå’Œæ›´é«˜çš„è–ªèµ„å¾…é‡ã€‚

æŠ€æœ¯å‘å±•è¶‹åŠ¿

æŠ€æœ¯çš„å‘å±•æ˜¯æ—¥æ–°æœˆå¼‚çš„ï¼Œä¼ ç»Ÿåç«¯å¼€å‘å’ŒAIæŠ€æœ¯æ­£åœ¨ä¸æ–­èåˆã€‚ç°åœ¨å¾ˆå¤šåç«¯ç³»ç»Ÿéƒ½å¼€å§‹å¼•å…¥AIå…ƒç´ ï¼Œä»¥æå‡ç³»ç»Ÿçš„æ€§èƒ½å’Œæ™ºèƒ½åŒ–ç¨‹åº¦ã€‚
æ¯”å¦‚è¯´ï¼Œåœ¨ç”µå•†åç«¯ç³»ç»Ÿä¸­ï¼Œåˆ©ç”¨AI Agentå¯ä»¥å®ç°æ™ºèƒ½çš„åº“å­˜ç®¡ç†ã€‚AI Agentå¯ä»¥æ ¹æ®å†å²é”€å”®æ•°æ®ã€å½“å‰åº“å­˜æƒ…å†µä»¥åŠå¸‚åœºè¶‹åŠ¿ç­‰ä¿¡æ¯ï¼Œè‡ªåŠ¨é¢„æµ‹å•†å“çš„éœ€æ±‚ï¼Œç„¶åè°ƒæ•´åº“å­˜æ°´å¹³ï¼Œé¿å…åº“å­˜ç§¯å‹æˆ–ç¼ºè´§çš„æƒ…å†µå‘ç”Ÿã€‚å¦‚æœä½ ä¸æ‡‚AI Agentå¼€å‘ï¼Œåœ¨é¢å¯¹è¿™æ ·çš„æŠ€æœ¯å˜é©æ—¶ï¼Œå°±å¯èƒ½ä¼šè½åäºæ—¶ä»£ã€‚

æ‹“å±•ä¸šåŠ¡è¾¹ç•Œ

æŒæ¡AI Agentå¼€å‘èƒ½è®©ä½ å¼€å‘å‡ºæ›´å…·åˆ›æ–°æ€§çš„åç«¯åº”ç”¨ã€‚ä¼ ç»Ÿåç«¯å¼€å‘ä¸»è¦å…³æ³¨ç³»ç»Ÿçš„ç¨³å®šæ€§ã€æ€§èƒ½å’Œæ•°æ®å¤„ç†ç­‰æ–¹é¢ï¼Œè€Œå¼•å…¥AI Agentåï¼Œä½ å¯ä»¥è®©ç³»ç»Ÿå…·å¤‡æ™ºèƒ½å†³ç­–å’Œè‡ªä¸»äº¤äº’çš„èƒ½åŠ›ã€‚
ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªåœ¨çº¿æ•™è‚²åç«¯ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥å¼€å‘ä¸€ä¸ªAI Agentä½œä¸ºæ™ºèƒ½å­¦ä¹ åŠ©æ‰‹ã€‚è¿™ä¸ªAI Agentå¯ä»¥æ ¹æ®å­¦ç”Ÿçš„å­¦ä¹ è¿›åº¦ã€å­¦ä¹ ä¹ æƒ¯å’Œæµ‹è¯•æˆç»©ç­‰ä¿¡æ¯ï¼Œä¸ºå­¦ç”Ÿæä¾›ä¸ªæ€§åŒ–çš„å­¦ä¹ å»ºè®®å’Œè¾…å¯¼ã€‚è¿™æ ·çš„åˆ›æ–°åº”ç”¨èƒ½ä¸ºäº§å“å¸¦æ¥æ›´å¤šçš„ç”¨æˆ·å’Œå¸‚åœºç«äº‰åŠ›ï¼Œä¹Ÿä¸ºä½ çš„èŒä¸šå‘å±•æ‰“å¼€äº†æ›´å¹¿é˜”çš„ç©ºé—´ã€‚

è§£å†³å¤æ‚é—®é¢˜

åœ¨å®é™…çš„åç«¯å¼€å‘ä¸­ï¼Œä¼šé‡åˆ°å¾ˆå¤šå¤æ‚çš„é—®é¢˜ï¼Œä¼ ç»Ÿçš„å¼€å‘æ–¹æ³•å¯èƒ½æ— æ³•å¾ˆå¥½åœ°è§£å†³ã€‚è€ŒAI Agentå¼€å‘æä¾›äº†ä¸€ç§æ–°çš„æ€è·¯å’Œæ–¹æ³•ã€‚
æ¯”å¦‚ï¼Œåœ¨å¤„ç†å¤§é‡çš„ç”¨æˆ·è¯·æ±‚å’Œæ•°æ®æ—¶ï¼ŒAI Agentå¯ä»¥é€šè¿‡å­¦ä¹ å’Œåˆ†æç”¨æˆ·è¡Œä¸ºæ¨¡å¼ï¼Œè‡ªåŠ¨ä¼˜åŒ–ç³»ç»Ÿçš„èµ„æºåˆ†é…ï¼Œæé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦å’Œå¤„ç†æ•ˆç‡ã€‚åˆæˆ–è€…åœ¨è¿›è¡Œå®‰å…¨é˜²æŠ¤æ—¶ï¼ŒAI Agentå¯ä»¥å®æ—¶ç›‘æµ‹ç³»ç»Ÿçš„å¼‚å¸¸è¡Œä¸ºï¼Œè‡ªåŠ¨è¯†åˆ«å’ŒæŠµå¾¡æ½œåœ¨çš„å®‰å…¨å¨èƒã€‚

---
# RAG

## ä»€ä¹ˆæ˜¯RAGï¼Ÿ

æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRetrieval Augmented Generationï¼‰ã€‚ç®€å•æ¥è®²ï¼ŒRAGå°±æ˜¯é€šè¿‡æ£€ç´¢è·å–ç›¸å…³çš„çŸ¥è¯†å¹¶å°†å…¶èå…¥Promptï¼Œè®©å¤§æ¨¡å‹èƒ½å¤Ÿå‚è€ƒç›¸åº”çš„çŸ¥è¯†ä»è€Œç»™å‡ºåˆç†å›ç­”ã€‚å› æ­¤ï¼Œå¯ä»¥å°†RAGçš„æ ¸å¿ƒç†è§£ä¸ºâ€œæ£€ç´¢+ç”Ÿæˆâ€ï¼Œå‰è€…ä¸»è¦æ˜¯åˆ©ç”¨å‘é‡æ•°æ®åº“çš„é«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢èƒ½åŠ›ï¼Œå¬å›ç›®æ ‡çŸ¥è¯†ï¼›åè€…åˆ™æ˜¯åˆ©ç”¨å¤§æ¨¡å‹å’ŒPromptå·¥ç¨‹ï¼Œå°†å¬å›çš„çŸ¥è¯†åˆç†åˆ©ç”¨ï¼Œç”Ÿæˆç›®æ ‡ç­”æ¡ˆã€‚


## ä¸ºä»€ä¹ˆè¦RAGï¼ŒRAGèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜
- çŸ¥è¯†çš„å±€é™æ€§ï¼šæ¨¡å‹è‡ªèº«çš„çŸ¥è¯†å®Œå…¨æºäºå®ƒçš„è®­ç»ƒæ•°æ®ï¼Œè€Œç°æœ‰çš„ä¸»æµå¤§æ¨¡å‹çš„è®­ç»ƒé›†åŸºæœ¬éƒ½æ˜¯æ„å»ºäºç½‘ç»œå…¬å¼€çš„æ•°æ®ï¼Œå¯¹äºä¸€äº›å®æ—¶æ€§çš„ã€éå…¬å¼€çš„æˆ–ç¦»çº¿çš„æ•°æ®æ˜¯æ— æ³•è·å–åˆ°çš„ï¼Œè¿™éƒ¨åˆ†çŸ¥è¯†ä¹Ÿå°±æ— ä»å…·å¤‡ã€‚
- å¹»è§‰é—®é¢˜ï¼šæ‰€æœ‰çš„AIæ¨¡å‹çš„åº•å±‚åŸç†éƒ½æ˜¯åŸºäºæ•°å­¦æ¦‚ç‡ï¼Œå…¶æ¨¡å‹è¾“å‡ºå®è´¨ä¸Šæ˜¯ä¸€ç³»åˆ—æ•°å€¼è¿ç®—ï¼Œå¤§æ¨¡å‹ä¹Ÿä¸ä¾‹å¤–ï¼Œæ‰€ä»¥å®ƒæœ‰æ—¶å€™ä¼šä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ï¼Œå°¤å…¶æ˜¯åœ¨å¤§æ¨¡å‹è‡ªèº«ä¸å…·å¤‡æŸä¸€æ–¹é¢çš„çŸ¥è¯†æˆ–ä¸æ“…é•¿çš„åœºæ™¯ã€‚è€Œè¿™ç§å¹»è§‰é—®é¢˜çš„åŒºåˆ†æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œå› ä¸ºå®ƒè¦æ±‚ä½¿ç”¨è€…è‡ªèº«å…·å¤‡ç›¸åº”é¢†åŸŸçš„çŸ¥è¯†ã€‚
- æ•°æ®å®‰å…¨æ€§ï¼šå¯¹äºä¼ä¸šæ¥è¯´ï¼Œæ•°æ®å®‰å…¨è‡³å…³é‡è¦ï¼Œæ²¡æœ‰ä¼ä¸šæ„¿æ„æ‰¿æ‹…æ•°æ®æ³„éœ²çš„é£é™©ï¼Œå°†è‡ªèº«çš„ç§åŸŸæ•°æ®ä¸Šä¼ ç¬¬ä¸‰æ–¹å¹³å°è¿›è¡Œè®­ç»ƒã€‚è¿™ä¹Ÿå¯¼è‡´å®Œå…¨ä¾èµ–é€šç”¨å¤§æ¨¡å‹è‡ªèº«èƒ½åŠ›çš„åº”ç”¨æ–¹æ¡ˆä¸å¾—ä¸åœ¨æ•°æ®å®‰å…¨å’Œæ•ˆæœæ–¹é¢è¿›è¡Œå–èˆã€‚
  è€ŒRAGæ˜¯è§£å†³ä¸Šè¿°é—®é¢˜çš„ä¸€å¥—æœ‰æ•ˆæ–¹æ¡ˆã€‚
  å®Œæ•´çš„RAGåº”ç”¨æµç¨‹ä¸»è¦åŒ…å«ä¸¤ä¸ªé˜¶æ®µï¼š 
- æ•°æ®å‡†å¤‡é˜¶æ®µï¼šæ•°æ®æå–â€”â€”>æ–‡æœ¬åˆ†å‰²â€”â€”>å‘é‡åŒ–ï¼ˆembeddingï¼‰â€”â€”>æ•°æ®å…¥åº“
- åº”ç”¨é˜¶æ®µï¼šç”¨æˆ·æé—®â€”â€”>æ•°æ®æ£€ç´¢ï¼ˆå¬å›ï¼‰â€”â€”>æ³¨å…¥Promptâ€”â€”>LLMç”Ÿæˆç­”æ¡ˆ
  å…·ä½“æ­¥éª¤
### æ•°æ®æå–
- æ•°æ®åŠ è½½ï¼šåŒ…æ‹¬å¤šæ ¼å¼æ•°æ®åŠ è½½ã€ä¸åŒæ•°æ®æºè·å–ç­‰ï¼Œæ ¹æ®æ•°æ®è‡ªèº«æƒ…å†µï¼Œå°†æ•°æ®å¤„ç†ä¸ºåŒä¸€ä¸ªèŒƒå¼ã€‚
- æ•°æ®å¤„ç†ï¼šåŒ…æ‹¬æ•°æ®è¿‡æ»¤ã€å‹ç¼©ã€æ ¼å¼åŒ–ç­‰ã€‚
- å…ƒæ•°æ®è·å–ï¼šæå–æ•°æ®ä¸­å…³é”®ä¿¡æ¯ï¼Œä¾‹å¦‚æ–‡ä»¶åã€Titleã€æ—¶é—´ç­‰ ã€‚
### æ–‡æœ¬åˆ†å‰²
  æ–‡æœ¬åˆ†å‰²ä¸»è¦è€ƒè™‘ä¸¤ä¸ªå› ç´  :embeddingæ¨¡å‹çš„Tokensé™åˆ¶æƒ…å†µï¼›è¯­ä¹‰å®Œæ•´æ€§å¯¹æ•´ä½“çš„æ£€ç´¢æ•ˆæœçš„å½±å“ã€‚ä¸€äº›å¸¸è§çš„æ–‡æœ¬åˆ†å‰²æ–¹å¼å¦‚ä¸‹ï¼š
    
- å¥åˆ†å‰²ï¼šä»¥â€å¥â€çš„ç²’åº¦è¿›è¡Œåˆ‡åˆ†ï¼Œä¿ç•™ä¸€ä¸ªå¥å­çš„å®Œæ•´è¯­ä¹‰ã€‚å¸¸è§åˆ‡åˆ†ç¬¦åŒ…æ‹¬ï¼šå¥å·ã€æ„Ÿå¹å·ã€é—®å·ã€æ¢è¡Œç¬¦ç­‰ã€‚
- å›ºå®šé•¿åº¦åˆ†å‰²ï¼šæ ¹æ®embeddingæ¨¡å‹çš„tokené•¿åº¦é™åˆ¶ï¼Œå°†æ–‡æœ¬åˆ†å‰²ä¸ºå›ºå®šé•¿åº¦ï¼ˆä¾‹å¦‚256/512ä¸ªtokensï¼‰ï¼Œè¿™ç§åˆ‡åˆ†æ–¹å¼ä¼šæŸå¤±å¾ˆå¤šè¯­ä¹‰ä¿¡æ¯ï¼Œä¸€èˆ¬é€šè¿‡åœ¨å¤´å°¾å¢åŠ ä¸€å®šå†—ä½™é‡æ¥ç¼“è§£ã€‚
###    å‘é‡åŒ–ï¼ˆembeddingï¼‰ï¼š
 å‘é‡åŒ–æ˜¯ä¸€ä¸ªå°†æ–‡æœ¬æ•°æ®è½¬åŒ–ä¸ºå‘é‡çŸ©é˜µçš„è¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹ä¼šç›´æ¥å½±å“åˆ°åç»­æ£€ç´¢çš„æ•ˆæœã€‚ç›®å‰å¸¸è§çš„embeddingæ¨¡å‹å¦‚è¡¨ä¸­æ‰€ç¤ºï¼Œè¿™äº›embeddingæ¨¡å‹åŸºæœ¬èƒ½æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œä½†å¯¹äºç‰¹æ®Šåœºæ™¯ï¼ˆä¾‹å¦‚æ¶‰åŠä¸€äº›ç½•è§ä¸“æœ‰è¯æˆ–å­—ç­‰ï¼‰æˆ–è€…æƒ³è¿›ä¸€æ­¥ä¼˜åŒ–æ•ˆæœï¼Œåˆ™å¯ä»¥é€‰æ‹©å¼€æºEmbeddingæ¨¡å‹å¾®è°ƒæˆ–ç›´æ¥è®­ç»ƒé€‚åˆè‡ªå·±åœºæ™¯çš„Embeddingæ¨¡å‹ã€‚
### æ•°æ®å…¥åº“
æ•°æ®å‘é‡åŒ–åæ„å»ºç´¢å¼•ï¼Œå¹¶å†™å…¥æ•°æ®åº“çš„è¿‡ç¨‹å¯ä»¥æ¦‚è¿°ä¸ºæ•°æ®å…¥åº“è¿‡ç¨‹ï¼Œé€‚ç”¨äºRAGåœºæ™¯çš„æ•°æ®åº“åŒ…æ‹¬ï¼šVikingdbã€Chromadbã€ESç­‰ã€‚ä¸€èˆ¬å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯ã€ç¡¬ä»¶ã€æ€§èƒ½éœ€æ±‚ç­‰å¤šå› ç´ ç»¼åˆè€ƒè™‘ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®åº“ã€‚
      
### æ•°æ®æ£€ç´¢
å¸¸è§çš„æ•°æ®æ£€ç´¢æ–¹æ³•åŒ…æ‹¬ï¼šç›¸ä¼¼æ€§æ£€ç´¢ã€å…¨æ–‡æ£€ç´¢ç­‰ï¼Œæ ¹æ®æ£€ç´¢æ•ˆæœï¼Œä¸€èˆ¬å¯ä»¥é€‰æ‹©å¤šç§æ£€ç´¢æ–¹å¼èåˆï¼Œæå‡å¬å›ç‡ã€‚
- ç›¸ä¼¼æ€§æ£€ç´¢ï¼šå³è®¡ç®—æŸ¥è¯¢å‘é‡ä¸æ‰€æœ‰å­˜å‚¨å‘é‡çš„ç›¸ä¼¼æ€§å¾—åˆ†ï¼Œè¿”å›å¾—åˆ†é«˜çš„è®°å½•ã€‚å¸¸è§çš„ç›¸ä¼¼æ€§è®¡ç®—æ–¹æ³•åŒ…æ‹¬ï¼šä½™å¼¦ç›¸ä¼¼æ€§ã€æ¬§æ°è·ç¦»ã€æ›¼å“ˆé¡¿è·ç¦»ç­‰ã€‚
- å…¨æ–‡æ£€ç´¢ï¼šå…¨æ–‡æ£€ç´¢æ˜¯ä¸€ç§æ¯”è¾ƒç»å…¸çš„æ£€ç´¢æ–¹å¼ï¼Œåœ¨æ•°æ®å­˜å…¥æ—¶ï¼Œé€šè¿‡å…³é”®è¯æ„å»ºå€’æ’ç´¢å¼•ï¼›åœ¨æ£€ç´¢æ—¶ï¼Œé€šè¿‡å…³é”®è¯è¿›è¡Œå…¨æ–‡æ£€ç´¢ï¼Œæ‰¾åˆ°å¯¹åº”çš„è®°å½•ã€‚
### æ³¨å…¥Prompt
  Promptä½œä¸ºå¤§æ¨¡å‹çš„ç›´æ¥è¾“å…¥ï¼Œæ˜¯å½±å“æ¨¡å‹è¾“å‡ºå‡†ç¡®ç‡çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚åœ¨RAGåœºæ™¯ä¸­ï¼ŒPromptä¸€èˆ¬åŒ…æ‹¬ä»»åŠ¡æè¿°ã€èƒŒæ™¯çŸ¥è¯†ï¼ˆæ£€ç´¢å¾—åˆ°ï¼‰ã€ä»»åŠ¡æŒ‡ä»¤ï¼ˆä¸€èˆ¬æ˜¯ç”¨æˆ·æé—®ï¼‰ç­‰ï¼Œæ ¹æ®ä»»åŠ¡åœºæ™¯å’Œå¤§æ¨¡å‹æ€§èƒ½ï¼Œä¹Ÿå¯ä»¥åœ¨Promptä¸­é€‚å½“åŠ å…¥å…¶ä»–æŒ‡ä»¤ä¼˜åŒ–å¤§æ¨¡å‹çš„è¾“å‡ºã€‚ä¸€ä¸ªç®€å•çŸ¥è¯†é—®ç­”åœºæ™¯çš„Promptå¦‚ä¸‹æ‰€ç¤ºï¼š
  ```
  ã€ä»»åŠ¡æè¿°ã€‘
  å‡å¦‚ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å®¢æœæœºå™¨äººï¼Œè¯·å‚è€ƒã€èƒŒæ™¯çŸ¥è¯†ã€‘ï¼Œå›
  ã€èƒŒæ™¯çŸ¥è¯†ã€‘
  {content} // æ•°æ®æ£€ç´¢å¾—åˆ°çš„ç›¸å…³æ–‡æœ¬
  ã€é—®é¢˜ã€‘
  çŸ³å¤´æ‰«åœ°æœºå™¨äººP10çš„ç»­èˆªæ—¶é—´æ˜¯å¤šä¹…ï¼Ÿ
  ```
  Promptçš„è®¾è®¡åªæœ‰æ–¹æ³•ã€æ²¡æœ‰è¯­æ³•ï¼Œæ¯”è¾ƒä¾èµ–äºä¸ªäººç»éªŒï¼Œåœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€éœ€è¦æ ¹æ®å¤§æ¨¡å‹çš„å®é™…è¾“å‡ºè¿›è¡Œé’ˆå¯¹æ€§çš„Promptè°ƒä¼˜ã€‚
  
# MCP
## ä»€ä¹ˆæ˜¯MCPï¼Ÿ
  MCPæ˜¯ä¸€ç§å¼€æ”¾çš„æŠ€æœ¯åè®®ï¼Œæ—¨åœ¨æ ‡å‡†åŒ–å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡çš„äº¤äº’æ–¹å¼ã€‚ä½ å¯ä»¥æŠŠMCPç†è§£æˆåƒæ˜¯ä¸€ä¸ªAIä¸–ç•Œçš„é€šç”¨ç¿»è¯‘å®˜ï¼Œè®©AIæ¨¡å‹èƒ½å¤Ÿä¸å„ç§å„æ ·çš„å¤–éƒ¨å·¥å…·"å¯¹è¯"ã€‚
  æƒ³æ·±å…¥äº†è§£æ¦‚å¿µå¯ä»¥çœ‹ä¸€æ–‡è¯»æ‡‚MCP[https://cloud.tencent.com/developer/article/2505540?policyId=1003]
  > æ¦‚å¿µéå¸¸æŠ½è±¡ï¼Œæœ¬è´¨ä¸ŠMCPå°±æ˜¯ä¸€ç§åè®®ã€‚ä½†æ˜¯å’±çŸ¥é“æ€ä¹ˆç”¨å°±è¡Œï¼Œå®ƒæœ€ç›´æ¥çš„ç”¨å¤„å°±æ˜¯è®©ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ«äººå·²ç»å†™å¥½çš„ä¸œè¥¿

##  ä½¿ç”¨MCP
  ä½ åªéœ€è¦æ‹¿åˆ°ä¸€ä¸²ç¥ç§˜jsonï¼Œæ¯”å¦‚è¯´ï¼š
  ```
  {
  "mcpServers": {
  "searxng": {
  "command": "npx",
  "args": [
  "-y",
  "@kevinwatt/mcp-server-searxng"
  ]
  }
  }
  }
  ```
  ç„¶åç”¨mcp-go(github.com/mark3labs/mcp-go)å»èµ·ä¸€ä¸ªclientï¼Œç„¶åä½ å°±å¯ä»¥ç›´æ¥ç”¨åˆ«äººåœ¨é‡Œé¢å†™å¥½çš„å·¥å…·äº†
### Example
```
import (
"context"
"encoding/json"
"fmt"
"github.com/cloudwego/eino/components/tool"
"meetingagent/service/mcp"
"os"
"strconv"
)

// MCPTool è¡¨ç¤ºä¸€ä¸ªMCPå·¥å…·çš„ä¿¡æ¯
type MCPTool struct {
Name    string   // å·¥å…·åç§°
Command string   // å‘½ä»¤å­—ç¬¦ä¸² (å¦‚æœæ˜¯commandæ¨¡å¼)
Args    []string // å‘½ä»¤å‚æ•° (å¦‚æœæ˜¯commandæ¨¡å¼)
Env     []string // ç¯å¢ƒå˜é‡ï¼Œæ ¼å¼ä¸ºKEY=VALUE
URL     string   // SSEæœåŠ¡URL (å¦‚æœæ˜¯SSEæ¨¡å¼)
Type    string   // å·¥å…·ç±»å‹ï¼š"command" æˆ– "sse"
}

// MCPServerConfig è¡¨ç¤ºMCPæœåŠ¡å™¨é…ç½®çš„ä¸åŒå¯èƒ½æ ¼å¼
type MCPServerConfig struct {
// Commandæ¨¡å¼å­—æ®µ
Command string            `json:"command,omitempty"`
Args    []string          `json:"args,omitempty"`
Env     map[string]string `json:"env,omitempty"`

    // SSEæ¨¡å¼å­—æ®µ
    URL string `json:"url,omitempty"`
}

// MCPConfig è¡¨ç¤ºæ•´ä¸ªMCPé…ç½®
type MCPConfig struct {
MCPServers map[string]MCPServerConfig `json:"mcpServers"`
}

var AllEinoTools []tool.BaseTool

func GetEinoTools() []tool.BaseTool {
return AllEinoTools
}

func LoadMCPJson() {
path := "mcp.json"
ctx := context.Background()
_, err := os.Stat(path)
if os.IsNotExist(err) {
fmt.Println("mcpæ–‡ä»¶ä¸å­˜åœ¨æˆ–è·¯å¾„ä¸æ­£ç¡®")
return // æ–‡ä»¶ä¸å­˜åœ¨
}
toolsInfo, err := ParseMCPJSON(path)
if err != nil {
fmt.Println("åŠ è½½mcpé…ç½®å¤±è´¥")
}
for i, k := range toolsInfo {
fmt.Println(strconv.Itoa(i) + " æ­£åœ¨åŠ è½½å·¥å…· " + k.Name)
if k.Type == "studio" {
tools := mcp.GetStudioTool(ctx, k.Command, k.Env, k.Args)
AllEinoTools = append(AllEinoTools, tools...)
}
if k.Type == "sse" {
tools := mcp.GetSSETool(ctx, k.URL)
AllEinoTools = append(AllEinoTools, tools...)
}
}

}

// ParseMCPJSON ä»æ–‡ä»¶è·¯å¾„è§£æMCP JSONï¼Œè¿”å›å·¥å…·ä¿¡æ¯åˆ‡ç‰‡
func ParseMCPJSON(path string) ([]MCPTool, error) {
// è¯»å–JSONæ–‡ä»¶
data, err := os.ReadFile(path)
if err != nil {
return nil, err
}

    // è§£æJSON
    var config MCPConfig
    err = json.Unmarshal(data, &config)
    if err != nil {
       return nil, err
    }

    // åˆ›å»ºå·¥å…·ä¿¡æ¯åˆ‡ç‰‡
    tools := make([]MCPTool, 0, len(config.MCPServers))

    // å¡«å……å·¥å…·ä¿¡æ¯
    for name, serverInfo := range config.MCPServers {
       tool := MCPTool{
          Name: name,
       }

       // ç¡®å®šå·¥å…·ç±»å‹å¹¶è®¾ç½®ç›¸åº”å­—æ®µ
       if serverInfo.URL != "" {
          // è¿™æ˜¯SSEç±»å‹
          tool.Type = "sse"
          tool.URL = serverInfo.URL
       } else if serverInfo.Command != "" {
          // è¿™æ˜¯studioç±»å‹
          tool.Type = "studio"
          tool.Command = serverInfo.Command
          tool.Args = serverInfo.Args
          tool.Env = make([]string, 0, len(serverInfo.Env))

          // å°†ç¯å¢ƒå˜é‡æ˜ å°„è½¬æ¢ä¸ºå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œæ ¼å¼ä¸º "KEY=VALUE"
          for key, value := range serverInfo.Env {
             tool.Env = append(tool.Env, key+"="+value)
          }
       }

       tools = append(tools, tool)
    }

    return tools, nil
}
```
```
package mcp

import (
"context"
"fmt"
mcpp "github.com/cloudwego/eino-ext/components/tool/mcp"
"github.com/cloudwego/eino/components/tool"
"github.com/mark3labs/mcp-go/client"
"github.com/mark3labs/mcp-go/mcp"
)

func GetStudioTool(ctx context.Context, command string, env []string, args []string) []tool.BaseTool {
cli, err := client.NewStdioMCPClient(command, env, args...)
if err != nil {
fmt.Println("mcpåŠ è½½å‡ºé”™")
return nil
}

    initRequest := mcp.InitializeRequest{}
    initRequest.Params.ProtocolVersion = mcp.LATEST_PROTOCOL_VERSION
    initRequest.Params.ClientInfo = mcp.Implementation{
       Name:    "example-client",
       Version: "1.0.0",
    }

    _, err = cli.Initialize(ctx, initRequest)
    if err != nil {
       fmt.Println("mcpåˆå§‹åŒ–å‡ºé”™")
       return nil
    }
    //res, err := cli.ListTools(ctx, mcp.ListToolsRequest{})

    tools, err := mcpp.GetTools(ctx, &mcpp.Config{Cli: cli})
    if err != nil {
       fmt.Println("einoè½¬æ¢mcpå‡ºé”™")
       return nil
    }
    return tools
}
```
### MCPåˆé›†ç½‘å€
https://github.com/punkpeye/awesome-mcp-servers GitHubä¸Šçš„mcpæœåŠ¡ç²¾é€‰åˆ—è¡¨

https://glama.ai/mcp/servers ç²¾é€‰mcpæœåŠ¡é›†åˆ

https://www.pulsemcp.com/ ä¸“æ³¨æ•°æ®åˆ†æçš„mcpæœåŠ¡

https://www.pulsemcp.com/ å¼€å‘è€…æœ‰å¥½çš„mcpå·¥å…·ç®±

https://mcp.composio.dev/ å¯ç»„åˆçš„mcpæœåŠ¡å¹³å°

# Eino
> åœ¨Windowsä¸Šç”¨ä¼šæœ‰ä¸€äº›å°Bug

## Eino æ¡†æ¶çš„åŸºæœ¬ç»„æˆ
Eino: Components ç»„ä»¶[https://www.cloudwego.io/zh/docs/eino/core_modules/components/]

---
## Eino æ¡†æ¶çš„å…·ä½“ä½¿ç”¨ç¤ºä¾‹
### LLM
å¤§å‹è¯­è¨€æ¨¡å‹(Large Language Model, LLM)æ˜¯åŸºäºæµ·é‡æ–‡æœ¬æ•°æ®è®­ç»ƒçš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œæ ¸å¿ƒèƒ½åŠ›æ˜¯ç†è§£å’Œç”Ÿæˆè‡ªç„¶è¯­è¨€æ–‡æœ¬ã€‚LLMå¦‚GPT-4ã€Claudeç­‰æ“…é•¿æ–‡æœ¬ç”Ÿæˆã€é—®ç­”ã€ç¿»è¯‘ç­‰ä»»åŠ¡ï¼Œä½†æœ¬è´¨ä¸Šæ˜¯è¢«åŠ¨çš„"é™æ€"æ¨¡å‹
åº”ç”¨åœºæ™¯ï¼šåŒ…æ‹¬èŠå¤©æœºå™¨äººã€è‡ªåŠ¨å†™ä½œã€æœºå™¨ç¿»è¯‘ã€å†…å®¹ç”Ÿæˆç­‰è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚
```
package main

import (
"context"
"github.com/cloudwego/eino/components/prompt"
"io"
"log"

    "github.com/cloudwego/eino-ext/components/model/ollama"
    "github.com/cloudwego/eino/components/model"
    "github.com/cloudwego/eino/schema"
)

func main() {
ctx := context.Background()

    // ä½¿ç”¨æ¨¡ç‰ˆåˆ›å»ºmessages
    log.Printf("===create messages===\n")
    messages := createMessagesFromTemplate()
    log.Printf("messages: %+v\n\n", messages)

    // åˆ›å»ºllm
    log.Printf("===create llm===\n")
    //cm := createOpenAIChatModel(ctx)
    cm := createOllamaChatModel(ctx)
    log.Printf("create llm success\n\n")

    log.Printf("===llm generate===\n")
    result := generate(ctx, cm, messages)
    log.Printf("result: %+v\n\n", result)

    log.Printf("===llm stream generate===\n")
    streamResult := stream(ctx, cm, messages)
    reportStream(streamResult)
}

func generate(ctx context.Context, llm model.ChatModel, in []*schema.Message) *schema.Message {
result, err := llm.Generate(ctx, in)
if err != nil {
log.Fatalf("llm generate failed: %v", err)
}
return result
}

func stream(ctx context.Context, llm model.ChatModel, in []*schema.Message) *schema.StreamReader[*schema.Message] {
result, err := llm.Stream(ctx, in)
if err != nil {
log.Fatalf("llm generate failed: %v", err)
}
return result
}

func createOllamaChatModel(ctx context.Context) model.ChatModel {
chatModel, err := ollama.NewChatModel(ctx, &ollama.ChatModelConfig{
BaseURL: "http://localhost:11434", // Ollama æœåŠ¡åœ°å€
Model:   "deepseek-r1:8b",         // æ¨¡å‹åç§°
})
if err != nil {
log.Fatalf("create ollama chat model failed: %v", err)
}
return chatModel
}
func reportStream(sr *schema.StreamReader[*schema.Message]) {
defer sr.Close()

    i := 0
    for {
       message, err := sr.Recv()
       if err == io.EOF {
          return
       }
       if err != nil {
          log.Fatalf("recv failed: %v", err)
       }
       log.Printf("message[%d]: %+v\n", i, message)
       i++
    }
}

func createTemplate() prompt.ChatTemplate {
// åˆ›å»ºæ¨¡æ¿ï¼Œä½¿ç”¨ FString æ ¼å¼
return prompt.FromMessages(schema.FString,
// ç³»ç»Ÿæ¶ˆæ¯æ¨¡æ¿
schema.SystemMessage("ä½ æ˜¯ä¸€ä¸ª{role}ã€‚ä½ éœ€è¦ç”¨{style}çš„è¯­æ°”å›ç­”é—®é¢˜ã€‚ä½ çš„ç›®æ ‡æ˜¯å¸®åŠ©ç¨‹åºå‘˜ä¿æŒç§¯æä¹è§‚çš„å¿ƒæ€ï¼Œæä¾›æŠ€æœ¯å»ºè®®çš„åŒæ—¶ä¹Ÿè¦å…³æ³¨ä»–ä»¬çš„å¿ƒç†å¥åº·ã€‚"),

       // æ’å…¥éœ€è¦çš„å¯¹è¯å†å²ï¼ˆæ–°å¯¹è¯çš„è¯è¿™é‡Œä¸å¡«ï¼‰
       schema.MessagesPlaceholder("chat_history", true),

       // ç”¨æˆ·æ¶ˆæ¯æ¨¡æ¿
       schema.UserMessage("é—®é¢˜: {question}"),
    )
}

func createMessagesFromTemplate() []*schema.Message {
template := createTemplate()

    // ä½¿ç”¨æ¨¡æ¿ç”Ÿæˆæ¶ˆæ¯
    messages, err := template.Format(context.Background(), map[string]any{
       "role":     "ç¨‹åºå‘˜é¼“åŠ±å¸ˆ",
       "style":    "ç§¯æã€æ¸©æš–ä¸”ä¸“ä¸š",
       "question": "æˆ‘çš„ä»£ç ä¸€ç›´æŠ¥é”™ï¼Œæ„Ÿè§‰å¥½æ²®ä¸§ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ",
       // å¯¹è¯å†å²ï¼ˆè¿™ä¸ªä¾‹å­é‡Œæ¨¡æ‹Ÿä¸¤è½®å¯¹è¯å†å²ï¼‰
       "chat_history": []*schema.Message{
          schema.UserMessage("ä½ å¥½"),
          schema.AssistantMessage("å˜¿ï¼æˆ‘æ˜¯ä½ çš„ç¨‹åºå‘˜é¼“åŠ±å¸ˆï¼è®°ä½ï¼Œæ¯ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜éƒ½æ˜¯ä» Debug ä¸­æˆé•¿èµ·æ¥çš„ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿ", nil),
          schema.UserMessage("æˆ‘è§‰å¾—è‡ªå·±å†™çš„ä»£ç å¤ªçƒ‚äº†"),
          schema.AssistantMessage("æ¯ä¸ªç¨‹åºå‘˜éƒ½ç»å†è¿‡è¿™ä¸ªé˜¶æ®µï¼é‡è¦çš„æ˜¯ä½ åœ¨ä¸æ–­å­¦ä¹ å’Œè¿›æ­¥ã€‚è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ä»£ç ï¼Œæˆ‘ç›¸ä¿¡é€šè¿‡é‡æ„å’Œä¼˜åŒ–ï¼Œå®ƒä¼šå˜å¾—æ›´å¥½ã€‚è®°ä½ï¼ŒRome wasn't built in a dayï¼Œä»£ç è´¨é‡æ˜¯é€šè¿‡æŒç»­æ”¹è¿›æ¥æå‡çš„ã€‚", nil),
       },
    })
    if err != nil {
       log.Fatalf("format template failed: %v\n", err)
    }
    return messages
}
```

### Agent
æœ¬è´¨ä¸Šæ˜¯ç»™LLMåŠ ä¸ŠåŒæ‰‹(tool)
```
func main() {


    ctx := context.Background()

    updateTool, err := utils.InferTool("update_todo", "Update a todo item, eg: content,deadline...", UpdateTodoFunc)
    if err != nil {
       logs.Errorf("InferTool failed, err=%v", err)
       return
    }

    // åˆ›å»º Google Search å·¥å…·
    searchTool, err := duckduckgo.NewTool(ctx, &duckduckgo.Config{
       MaxResults: 3,
       Region:     ddgsearch.RegionCN,
       DDGConfig: &ddgsearch.Config{
          Timeout:    10 * time.Second,
          Cache:      true,
          MaxRetries: 5,
       },
    })

    if err != nil {
       logs.Errorf("NewDuckDuckGoTool failed, err=%v", err)
       return
    }

    // åˆå§‹åŒ– tools
    todoTools := []tool.BaseTool{
       getAddTodoTool(), // ä½¿ç”¨ NewTool æ–¹å¼
       updateTool,       // ä½¿ç”¨ InferTool æ–¹å¼
       &ListTodoTool{},  // ä½¿ç”¨ç»“æ„ä½“å®ç°æ–¹å¼, æ­¤å¤„æœªå®ç°åº•å±‚é€»è¾‘
       searchTool,
    }


    chatModel, err := ark.NewChatModel(ctx, &ark.ChatModelConfig{


    })
    if err != nil {
       logs.Errorf("NewChatModel failed, err=%v", err)
       return
    }

    // è·å–å·¥å…·ä¿¡æ¯, ç”¨äºç»‘å®šåˆ° ChatModel
    toolInfos := make([]*schema.ToolInfo, 0, len(todoTools))
    var info *schema.ToolInfo
    for _, todoTool := range todoTools {
       info, err = todoTool.Info(ctx)
       if err != nil {
          logs.Infof("get ToolInfo failed, err=%v", err)
          return
       }
       toolInfos = append(toolInfos, info)
    }
    // å°† tools ç»‘å®šåˆ° ChatModel
    err = chatModel.BindTools(toolInfos)
    if err != nil {
       logs.Errorf("BindTools failed, err=%v", err)
       return
    }

    // åˆ›å»º tools èŠ‚ç‚¹
    todoToolsNode, err := compose.NewToolNode(ctx, &compose.ToolsNodeConfig{
       Tools: todoTools,
    })
    if err != nil {
       logs.Errorf("NewToolNode failed, err=%v", err)
       return
    }

    // æ„å»ºå®Œæ•´çš„å¤„ç†é“¾
    chain := compose.NewChain[[]*schema.Message, []*schema.Message]()
    chain.
       AppendChatModel(chatModel, compose.WithNodeName("chat_model")).
       AppendToolsNode(todoToolsNode, compose.WithNodeName("tools"))

    // ç¼–è¯‘å¹¶è¿è¡Œ chain
    agent, err := chain.Compile(ctx)
    if err != nil {
       logs.Errorf("chain.Compile failed, err=%v", err)
       return
    }

    // è¿è¡Œç¤ºä¾‹
    resp, err := agent.Invoke(ctx, []*schema.Message{
       {
          Role:    schema.User,
          Content: "æœç´¢cloudwegoçš„ä¿¡æ¯",
       },
    })
    if err != nil {
       logs.Errorf("agent.Invoke failed, err=%v", err)
       return
    }

    // è¾“å‡ºç»“æœ
    for idx, msg := range resp {
       logs.Infof("\n")
       logs.Infof("message %d: %s: %s", idx, msg.Role, msg.Content)
    }
}

// è·å–æ·»åŠ  todo å·¥å…·
// ä½¿ç”¨ utils.NewTool åˆ›å»ºå·¥å…·
func getAddTodoTool() tool.InvokableTool {
info := &schema.ToolInfo{
Name: "add_todo",
Desc: "Add a todo item",
ParamsOneOf: schema.NewParamsOneOfByParams(map[string]*schema.ParameterInfo{
"content": {
Desc:     "The content of the todo item",
Type:     schema.String,
Required: true,
},
"started_at": {
Desc: "The started time of the todo item, in unix timestamp",
Type: schema.Integer,
},
"deadline": {
Desc: "The deadline of the todo item, in unix timestamp",
Type: schema.Integer,
},
}),
}

    return utils.NewTool(info, AddTodoFunc)
}

// ListTodoTool
// è·å–åˆ—å‡º todo å·¥å…·
// è‡ªè¡Œå®ç° InvokableTool æ¥å£
type ListTodoTool struct{}

func (lt *ListTodoTool) Info(_ context.Context) (*schema.ToolInfo, error) {
return &schema.ToolInfo{
Name: "list_todo",
Desc: "List all todo items",
ParamsOneOf: schema.NewParamsOneOfByParams(map[string]*schema.ParameterInfo{
"finished": {
Desc: "filter todo items if finished",
Type: schema.Boolean,
Required: false,
},
}),
}, nil
}

type TodoUpdateParams struct {
ID        string  `json:"id" jsonschema:"description=id of the todo"`
Content   *string `json:"content,omitempty" jsonschema:"description=content of the todo"`
StartedAt *int64  `json:"started_at,omitempty" jsonschema:"description=start time in unix timestamp"`
Deadline  *int64  `json:"deadline,omitempty" jsonschema:"description=deadline of the todo in unix timestamp"`
Done      *bool   `json:"done,omitempty" jsonschema:"description=done status"`
}

type TodoAddParams struct {
Content  string `json:"content"`
StartAt  *int64 `json:"started_at,omitempty"` // å¼€å§‹æ—¶é—´
Deadline *int64 `json:"deadline,omitempty"`
}

func (lt *ListTodoTool) InvokableRun(_ context.Context, argumentsInJSON string, _ ...tool.Option) (string, error) {
logs.Infof("invoke tool list_todo: %s", argumentsInJSON)

        // Toolå¤„ç†ä»£ç 
        // ...

        return `{"todos": [{"id": "1", "content": "åœ¨2024å¹´12æœˆ10æ—¥ä¹‹å‰å®ŒæˆEinoé¡¹ç›®æ¼”ç¤ºæ–‡ç¨¿çš„å‡†å¤‡å·¥ä½œ", "started_at": 1717401600, "deadline": 1717488000, "done": false}]}`, nil
}

func AddTodoFunc(_ context.Context, params *TodoAddParams) (string, error) {
logs.Infof("invoke tool add_todo: %+v", params)

    // Toolå¤„ç†ä»£ç 
    // ...

    return `{"msg": "add todo success"}`, nil
}

func UpdateTodoFunc(_ context.Context, params *TodoUpdateParams) (string, error) {
logs.Infof("invoke tool update_todo: %+v", params)

    // Toolå¤„ç†ä»£ç 
    // ...

    return `{"msg": "update todo success"}`, nil
}
```

### React Agent
Agent + å¾ªç¯æ¨ç†è¿­ä»£
```
func main() {// å…ˆåˆå§‹åŒ–æ‰€éœ€çš„ chatModel
toolableChatModel, err := openai.NewChatModel(...)// åˆå§‹åŒ–æ‰€éœ€çš„ tools
tools := compose.ToolsNodeConfig{
Tools: []tool.BaseTool{
mytool,...},}// åˆ›å»º agent
agent, err := react.NewAgent(ctx, &react.AgentConfig{
ToolCallingModel: toolableChatModel,
ToolsConfig: tools,...
}
}
```
# ä½œä¸š
- æŠŠä¸Šé¢çš„ä¸¤ä¸ªexampleæ”¹æˆwebæœåŠ¡
- æƒ³æ·±å…¥å­¦ä¹ çš„å¤šçœ‹çœ‹æ–‡æ¡£